<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wahr oder Klar? â€“ Die Spielewebseite fÃ¼r Freunde und SpaÃŸ</title>
  <style>
    /* ========== Light Theme (Standard) ========== */
    body {
      background: #f2f5fa;
      color: #222;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      margin: 0;
      padding: 0;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    header {
      background-color: #00509e;
      color: white;
      padding: 2.5rem 0;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    .header-inner {
      max-width: 1000px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 1rem;
    }
    .logo {
      font-size: 2.5rem;
    }
    header h1 {
      font-size: 1.8rem;
      margin: 0;
    }
    .intro {
      max-width: 1000px;
      margin: 2rem auto;
      padding: 1.5rem;
      background-color: #e0f1ff;
      border-radius: 1rem;
      text-align: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    .intro h2 {
      margin-top: 0;
    }
    .grid {
      max-width: 800px;
      margin: 0 auto 3rem auto;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      padding: 0 1rem;
    }
    .card {
      background: #ffffff;
      padding: 1.5rem;
      border-radius: 1rem;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      text-decoration: none;
      color: #00509e;
      font-weight: bold;
      transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.3s ease, color 0.3s ease;
      cursor: pointer;
    }
    .card:hover {
      background-color: #dff0ff;
      transform: scale(1.03);
    }
    .emoji {
      font-size: 2rem;
      margin-bottom: 0.5rem;
    }
    .card p {
      font-weight: normal;
      color: #444;
      transition: color 0.3s ease;
    }
    footer {
      background-color: #333;
      color: #ccc;
      text-align: center;
      padding: 1rem;
      font-size: 0.9rem;
      margin-top: auto;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    /* Modal Styles */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(255, 255, 255, 0.6);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal-overlay.hidden {
      display: none;
    }
    .modal {
      background-color: #fefefe;
      color: #222;
      border-radius: 1rem;
      padding: 2rem;
      max-width: 520px;
      width: 90%;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
      position: relative;
      animation: fadeInScale 0.3s ease-in-out;
      text-align: center;
    }
    @keyframes fadeInScale {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    .modal h2 {
      margin-top: 0;
      margin-bottom: 1.5rem;
      font-size: 1.6rem;
    }
    .close-modal {
      position: absolute;
      top: 0.7rem;
      right: 1rem;
      font-size: 1.3rem;
      color: #444;
      cursor: pointer;
      transition: transform 0.2s ease, color 0.2s ease;
      user-select: none;
    }
    .close-modal:hover {
      transform: scale(1.3);
      color: #0077ff;
    }
    .mode-select {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    .mode-btn {
      padding: 0.6rem 1.2rem;
      border: 1px solid #ccc;
      border-radius: 0.5rem;
      background: #fafafa;
      color: #333;
      font-size: 1rem;
      cursor: pointer;
      user-select: none;
      transition: background 0.2s ease, color 0.2s ease;
      flex: 1;
      max-width: 140px;
    }
    .mode-btn.active {
      background-color: #3399ff;
      color: #fff;
      border-color: #3399ff;
    }
    .mode-btn:hover:not(.active) {
      background-color: #eaeaea;
    }
    .category-select {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
      text-align: left;
      max-height: 250px;
      overflow-y: auto;
    }
    .category-select.hidden {
      display: none;
    }
    .category-item {
      font-size: 1rem;
      background: #dff0ff;
      color: #333;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
      user-select: none;
    }
    .category-item input[type="checkbox"] {
      accent-color: #3399ff;
      cursor: pointer;
    }
    .start-btn {
      background-color: #3399ff;
      color: white;
      padding: 0.8rem 1.2rem;
      border: none;
      border-radius: 0.6rem;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.2s ease;
      width: 100%;
      user-select: none;
    }
    .start-btn:hover {
      background-color: #2b89e0;
    }
    .gender-select {
      margin-bottom: 1rem;
      text-align: center;
      font-weight: 600;
      font-size: 1rem;
      color: #222;
    }
    .gender-buttons {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 0.5rem;
    }
    .gender-btn {
      padding: 0.5rem 1.2rem;
      font-size: 1rem;
      border-radius: 0.5rem;
      border: 1.5px solid #bbb;
      background-color: transparent;
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease;
      color: #222;
      user-select: none;
      flex: 1;
      max-width: 120px;
    }
    .gender-btn:hover {
      background-color: #eee;
      color: #000;
    }
    .gender-btn.active {
      background-color: #0077ff;
      color: #fff;
      border-color: #0077ff;
    }
    /* Scrollbar for category select */
    .category-select::-webkit-scrollbar {
      width: 8px;
    }
    .category-select::-webkit-scrollbar-thumb {
      background-color: #3399ff;
      border-radius: 4px;
    }
  </style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="logo">ğŸ²</div>
    <div class="title-group">
      <h1>Wahr oder Klar? â€“ Die Spielewebseite fÃ¼r Freunde & SpaÃŸ</h1>
      <p class="subtitle">WÃ¤hlt einen Spielmodus und habt SpaÃŸ!</p>
    </div>
    <div class="icon-right">ğŸ‰</div>
  </div>
</header>

<main>
  <section class="intro">
    <h2>Hey! SchÃ¶n, dass du da bist ğŸ‘‹</h2>
    <p>Hier kannst du mit deinen Freunden richtig coole Spiele spielen.<br>Egal ob Klassenfahrt, Geburtstag oder einfach so â€“ such dir einen Spielmodus aus und los gehtâ€™s!</p>
  </section>

  <section class="grid">
    <div class="card" id="wopCard" tabindex="0" role="button" aria-pressed="false" aria-label="Wahrheit oder Pflicht auswÃ¤hlen">
      <div class="emoji">ğŸ­</div>
      <h3>Wahrheit oder Pflicht</h3>
      <p>Harmlos oder mutig â€“ du entscheidest!</p>
    </div>
    <div class="card" id="wdeCard" tabindex="0" role="button" aria-pressed="false" aria-label="Wer wÃ¼rde eher auswÃ¤hlen">
      <div class="emoji">ğŸ¤”</div>
      <h3>Wer wÃ¼rde eher...?</h3>
      <p>Lustige EinschÃ¤tzungen unter Freunden.</p>
    </div>
    <div class="card" id="ihnnCard" tabindex="0" role="button" aria-pressed="false" aria-label="Ich hab noch nie auswÃ¤hlen">
      <div class="emoji">ğŸ»</div>
      <h3>Ich hab noch nie...</h3>
      <p>GestÃ¤ndnisse und SpaÃŸ garantiert.</p>
    </div>
    <div class="card" id="ewodCard" tabindex="0" role="button" aria-pressed="false" aria-label="Entweder oder auswÃ¤hlen">
      <div class="emoji">âš–ï¸</div>
      <h3>Entweder/Oder</h3>
      <p>Pizza oder Pommes? Entscheide dich!</p>
    </div>
    <div class="card" id="ldtCard" tabindex="0" role="button" aria-pressed="false" aria-label="Voting auswÃ¤hlen">
      <div class="emoji">ğŸ“Š</div>
      <h3>Voting</h3>
      <p>Wie denkt die Runde wirklich?</p>
    </div>
  </section>
</main>

<footer>
  Â© 2025 â€“ Julian Kaiser <br>
  Made with ğŸ’™ â€“ SpaÃŸ garantiert ğŸ˜„
</footer>

<!-- Modal-Vorlage (fÃ¼r alle Spielmodi, nur unterschiedliche Inhalte) -->
<!-- Wahrheit oder Pflicht Modal -->
<div class="modal-overlay hidden" id="wopModal" role="dialog" aria-modal="true" aria-labelledby="wopModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-modal" id="closeWopModal" aria-label="SchlieÃŸen">âŒ</button>
    <h2 id="wopModalTitle">Wahrheit oder Pflicht â€“ Kategorien</h2>

    <div class="gender-select">
      <p>FÃ¼r wen sollen die Aufgaben sein?</p>
      <div class="gender-buttons">
        <button class="gender-btn active" data-value="mixed" type="button">âš§ Gemischt</button>
        <button class="gender-btn" data-value="male" type="button">ğŸ‘¦ Nur Jungs</button>
        <button class="gender-btn" data-value="female" type="button">ğŸ‘§ Nur MÃ¤dchen</button>
      </div>
    </div>

    <div class="mode-select" role="group" aria-label="Modus auswÃ¤hlen">
      <button id="wopBtnMixed" class="mode-btn active" type="button">ğŸ¨ Gemischt</button>
      <button id="wopBtnCustom" class="mode-btn" type="button">ğŸ›ï¸ Kategorien wÃ¤hlen</button>
    </div>

    <div class="category-select hidden" id="wopCategoryOptions">
      <label class="category-item" data-tooltip="Lustige, harmlose Aufgaben â€“ ideal zum Lockerwerden.">
        <input type="checkbox" value="funny" />
        ğŸ§ƒ Locker & Lustig
      </label>
      <label class="category-item" data-tooltip="Ehrliche Fragen und Challenges fÃ¼r mehr Vertrauen.">
        <input type="checkbox" value="daring" />
        ğŸ«± Vertrauensbasis
      </label>
      <label class="category-item" data-tooltip="Fantasievolle oder gedanklich tiefere Fragen.">
        <input type="checkbox" value="mind" />
        ğŸ§  Kopfkino
      </label>
      <label class="category-item" data-tooltip="GefÃ¼hle, Beziehungen, Vergangenheit â€“ es wird ernst.">
        <input type="checkbox" value="deep" />
        ğŸ’Œ Deep Talk
      </label>
      <label class="category-item" data-tooltip="Mutige Fragen oder Aufgaben mit Nervenkitzel.">
        <input type="checkbox" value="bold" />
        ğŸ«£ Mut & Grenzen
      </label>
      <label class="category-item" data-tooltip="Peinlich, provokant oder total verrÃ¼ckt â€“ nur fÃ¼r Mutige.">
        <input type="checkbox" value="taboo" />
        ğŸš« Tabuzone
      </label>
    </div>

    <button class="start-btn" id="wopStartBtn" type="button">Los gehtâ€™s!</button>
  </div>
</div>

<!-- Wer wÃ¼rde eher... Modal -->
<div class="modal-overlay hidden" id="wdeModal" role="dialog" aria-modal="true" aria-labelledby="wdeModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-modal" id="closeWdeModal" aria-label="SchlieÃŸen">âŒ</button>
    <h2 id="wdeModalTitle">Wer wÃ¼rde eher...? â€“ Kategorien</h2>

    <div class="mode-select" role="group" aria-label="Modus auswÃ¤hlen">
      <button id="wdeBtnMixed" class="mode-btn active" type="button">ğŸ¨ Gemischt</button>
      <button id="wdeBtnCustom" class="mode-btn" type="button">ğŸ›ï¸ Kategorien wÃ¤hlen</button>
    </div>

    <div class="category-select hidden" id="wdeCategoryOptions">
      <label class="category-item" data-tooltip="Lustige, lockere Aussagen â€“ einfach zum Lachen.">
        <input type="checkbox" value="funny" />
        ğŸ˜‚ Locker und Lustig
      </label>
      <label class="category-item" data-tooltip="Wer kennt wen wirklich? Vertrauensfragen & ehrliche EinschÃ¤tzungen.">
        <input type="checkbox" value="daring" />
        ğŸ«± Vertrauensbasis
      </label>
      <label class="category-item" data-tooltip="TiefgrÃ¼ndige EinschÃ¤tzungen zu Charakter und PersÃ¶nlichkeit.">
        <input type="checkbox" value="personal" />
        ğŸ§  PersÃ¶nlich & TiefgrÃ¼ndig
      </label>
      <label class="category-item" data-tooltip="Mutige, freizÃ¼gige Aussagen â€“ nur wenn ihr euch kennt.">
        <input type="checkbox" value="bold" />
        ğŸ”¥ Wagemutig & FreizÃ¼gig
      </label>
      <label class="category-item" data-tooltip="Intime Aussagen Ã¼ber Liebe, GefÃ¼hle & private Themen.">
        <input type="checkbox" value="intimate" />
        ğŸ”’ Privat & Intim
      </label>
      <label class="category-item" data-tooltip="TabubrÃ¼che, Extreme, WTF-Momente.">
        <input type="checkbox" value="extreme" />
        âš¡ Extrem & Provokant
      </label>
    </div>

    <button class="start-btn" id="wdeStartBtn" type="button">Los gehtâ€™s!</button>
  </div>
</div>

<!-- Ich hab noch nie Modal -->
<div class="modal-overlay hidden" id="ihnnModal" role="dialog" aria-modal="true" aria-labelledby="ihnnModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-modal" id="closeIhnnModal" aria-label="SchlieÃŸen">âŒ</button>
    <h2 id="ihnnModalTitle">Ich hab noch nie... â€“ Kategorien</h2>

    <div class="mode-select" role="group" aria-label="Modus auswÃ¤hlen">
      <button id="ihnnBtnMixed" class="mode-btn active" type="button">ğŸ¨ Gemischt</button>
      <button id="ihnnBtnCustom" class="mode-btn" type="button">ğŸ›ï¸ Kategorien wÃ¤hlen</button>
    </div>

    <div class="category-select hidden" id="ihnnCategoryOptions">
      <label class="category-item" data-tooltip="Harmlose, lustige Aussagen â€“ zum Lockerwerden.">
        <input type="checkbox" value="funny" />
        ğŸ˜‚ Locker und Lustig
      </label>
      <label class="category-item" data-tooltip="Aussagen aus Alltag und Leben â€“ relatable!">
        <input type="checkbox" value="casual" />
        ğŸ˜ Alltag & Erlebnisse
      </label>
      <label class="category-item" data-tooltip="Vertrauensvolle, tiefere Aussagen.">
        <input type="checkbox" value="daring" />
        ğŸ«± Vertrauensbasis
      </label>
      <label class="category-item" data-tooltip="Eher gewagt und offen â€“ nur fÃ¼r mutige Spieler.">
        <input type="checkbox" value="personal" />
        ğŸ”¥ PersÃ¶nlich & FreizÃ¼gig
      </label>
      <label class="category-item" data-tooltip="Liebe, Dates, GefÃ¼hle â€“ es wird romantisch.">
        <input type="checkbox" value="flirty" />
        ğŸ’‹ Flirty & Romantisch
      </label>
      <label class="category-item" data-tooltip="Schockierend, wild, manchmal peinlich.">
        <input type="checkbox" value="extreme" />
        âš¡ Extrem & Provokant
      </label>
    </div>

    <button class="start-btn" id="ihnnStartBtn" type="button">Los gehtâ€™s!</button>
  </div>
</div>

<!-- Entweder/Oder Modal -->
<div class="modal-overlay hidden" id="ewodModal" role="dialog" aria-modal="true" aria-labelledby="ewodModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-modal" id="closeEwodModal" aria-label="SchlieÃŸen">âŒ</button>
    <h2 id="ewodModalTitle">Entweder/oder â€“ Kategorien</h2>

    <div class="mode-select" role="group" aria-label="Modus auswÃ¤hlen">
      <button id="ewodBtnMixed" class="mode-btn active" type="button">ğŸ¨ Gemischt</button>
      <button id="ewodBtnCustom" class="mode-btn" type="button">ğŸ›ï¸ Kategorien wÃ¤hlen</button>
    </div>

    <div class="category-select hidden" id="ewodCategoryOptions">
      <label class="category-item" data-tooltip="SpaÃŸfragen und absurde Entscheidungen.">
        <input type="checkbox" value="funny" />
        ğŸ˜‚ SpaÃŸ & Albern
      </label>
      <label class="category-item" data-tooltip="Was wÃ¼rdest du im Alltag wirklich tun?">
        <input type="checkbox" value="life" />
        ğŸŒ Alltag & Leben
      </label>
      <label class="category-item" data-tooltip="Herz oder Kopf? Liebe oder Freiheit?">
        <input type="checkbox" value="flirty" />
        ğŸ’Œ Romantik & Flirt
      </label>
      <label class="category-item" data-tooltip="Spannende Extreme â€“ oft unangenehm, immer lustig.">
        <input type="checkbox" value="extreme" />
        âš¡ Extrem & Provokant
      </label>
    </div>

    <button class="start-btn" id="ewodStartBtn" type="button">Los gehtâ€™s!</button>
  </div>
</div>

<!-- Voting Modal -->
<div class="modal-overlay hidden" id="ldtModal" role="dialog" aria-modal="true" aria-labelledby="ldtModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-modal" id="closeLdtModal" aria-label="SchlieÃŸen">âŒ</button>
    <h2 id="ldtModalTitle">Voting â€“ Kategorien</h2>

    <div class="mode-select" role="group" aria-label="Modus auswÃ¤hlen">
      <button id="ldtBtnMixed" class="mode-btn active" type="button">ğŸ¨ Gemischt</button>
      <button id="ldtBtnCustom" class="mode-btn" type="button">ğŸ›ï¸ Kategorien wÃ¤hlen</button>
    </div>

    <div class="category-select hidden" id="ldtCategoryOptions">
      <label class="category-item" data-tooltip="Lustige und absurde Aussagen zum Schmunzeln.">
        <input type="checkbox" value="funny" />
        ğŸ˜‚ SpaÃŸ & Albern
      </label>
      <label class="category-item" data-tooltip="Geheime Wahrheiten kommen ans Licht.">
        <input type="checkbox" value="secrets" />
        ğŸ¤ Heimliche Wahrheiten
      </label>
      <label class="category-item" data-tooltip="Freunde, GefÃ¼hle und Beziehungen einschÃ¤tzen.">
        <input type="checkbox" value="personal" />
        ğŸ’˜ Freundschaft & Romantik
      </label>
      <label class="category-item" data-tooltip="Wie siehst du dich selbst â€“ und wie sehen dich andere?">
        <input type="checkbox" value="identity" />
        ğŸ­ Wer bist du wirklich?
      </label>
      <label class="category-item" data-tooltip="Kontroverse Aussagen â€“ Diskussionspotenzial!">
        <input type="checkbox" value="opinion" />
        ğŸ’¡ Meinungssache
      </label>
    </div>

    <button class="start-btn" id="ldtStartBtn" type="button">Los gehtâ€™s!</button>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    // Hilfsfunktion: Modal Ã¶ffnen/schlieÃŸen
    const openModal = modal => {
      modal.classList.remove("hidden");
      modal.focus();
      document.body.style.overflow = "hidden"; // Scroll verhindern
    };
    const closeModal = modal => {
      modal.classList.add("hidden");
      document.body.style.overflow = ""; // Scroll wieder erlauben
    };

    // Alle Modals in Objekt
    const modals = {
      wop: document.getElementById("wopModal"),
      wde: document.getElementById("wdeModal"),
      ihnn: document.getElementById("ihnnModal"),
      ewod: document.getElementById("ewodModal"),
      ldt: document.getElementById("ldtModal"),
    };

    // Karten => Modals zuordnen
    const cards = {
      wopCard: modals.wop,
      wdeCard: modals.wde,
      ihnnCard: modals.ihnn,
      ewodCard: modals.ewod,
      ldtCard: modals.ldt,
    };

    // Karten Klick Ã¶ffnet passendes Modal
    Object.entries(cards).forEach(([cardId, modal]) => {
      const card = document.getElementById(cardId);
      if (card) {
        card.addEventListener("click", () => openModal(modal));
        // FÃ¼r Tastatur (Enter/Space)
        card.addEventListener("keydown", e => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            openModal(modal);
          }
        });
      }
    });

    // Close-Buttons Event
    Object.values(modals).forEach(modal => {
      const closeBtn = modal.querySelector(".close-modal");
      closeBtn.addEventListener("click", () => closeModal(modal));

      // Esc-Taste schlieÃŸt Modal
      modal.addEventListener("keydown", e => {
        if (e.key === "Escape") {
          closeModal(modal);
        }
      });
    });

    // --- Mode-Button Toggle (Gemischt / Kategorien wÃ¤hlen) ---
    const modeButtonHandler = (modalId, btnMixedId, btnCustomId, categoryOptionsId) => {
      const btnMixed = document.getElementById(btnMixedId);
      const btnCustom = document.getElementById(btnCustomId);
      const categoryOptions = document.getElementById(categoryOptionsId);

      btnMixed.addEventListener("click", () => {
        btnMixed.classList.add("active");
        btnCustom.classList.remove("active");
        categoryOptions.classList.add("hidden");
      });
      btnCustom.addEventListener("click", () => {
        btnCustom.classList.add("active");
        btnMixed.classList.remove("active");
        categoryOptions.classList.remove("hidden");
      });
    };

    modeButtonHandler("wopModal", "wopBtnMixed", "wopBtnCustom", "wopCategoryOptions");
    modeButtonHandler("wdeModal", "wdeBtnMixed", "wdeBtnCustom", "wdeCategoryOptions");
    modeButtonHandler("ihnnModal", "ihnnBtnMixed", "ihnnBtnCustom", "ihnnCategoryOptions");
    modeButtonHandler("ewodModal", "ewodBtnMixed", "ewodBtnCustom", "ewodCategoryOptions");
    modeButtonHandler("ldtModal", "ldtBtnMixed", "ldtBtnCustom", "ldtCategoryOptions");

    // --- Geschlechtsauswahl WOP Modal ---
    const wopGenderButtons = document.querySelectorAll("#wopModal .gender-btn");
    wopGenderButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        wopGenderButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
      });
    });

    // --- Start-Buttons: Kategorie-Auswahl prÃ¼fen + URL bauen + weiterleiten ---
    const setupStartButton = (modal, startBtnId, genderSelector, categoryOptionsId, defaultCats) => {
      const startBtn = document.getElementById(startBtnId);
      startBtn.addEventListener("click", () => {
        // Wenn Modal hat Geschlechtsauswahl (nur WOP)
        let gender = "mixed";
        if (genderSelector) {
          const activeGenderBtn = modal.querySelector(`${genderSelector}.active`);
          if (activeGenderBtn) gender = activeGenderBtn.dataset.value;
        }

        const btnMixed = modal.querySelector(".mode-btn.active");
        const isCustom = btnMixed && btnMixed.id.endsWith("Custom") && btnMixed.classList.contains("active");

        let categories = [];

        if (isCustom) {
          const checkedBoxes = modal.querySelectorAll(`#${categoryOptionsId} input[type="checkbox"]:checked`);
          categories = Array.from(checkedBoxes).map(cb => cb.value);
          if (categories.length === 0) {
            alert("Bitte wÃ¤hle mindestens eine Kategorie aus!");
            return;
          }
        } else {
          categories = defaultCats;
        }

        // Modus aus Modal ID (z.B. "wopModal" => "wop")
        const mode = modal.id.replace("Modal", "");

        // URL-Parameter bauen
        const params = new URLSearchParams();
        params.set("gender", gender);
        params.set("mode", isCustom ? "custom" : "mixed");
        params.set("categories", categories.join(","));

        // Ziel-URL bestimmen
        // Beispiel: spiel-wop.html, spiel-wde.html, spiel-ihnn.html, spiel-ewod.html, spiel-ldt.html
        let targetPage = "";
        switch (mode) {
          case "wop":
            targetPage = "spiel-wop.html";
            break;
          case "wde":
            targetPage = "spiel-wde.html";
            break;
          case "ihnn":
            targetPage = "spiel-ihnn.html";
            break;
          case "ewod":
            targetPage = "spiel-ewod.html";
            break;
          case "ldt":
            targetPage = "spiel-voting.html"; // Voting wird hier mit "spiel-voting.html" angenommen
            break;
          default:
            targetPage = "index.html";
        }

        // Weiterleitung
        window.location.href = `${targetPage}?${params.toString()}`;
      });
    };

    // Setup Start-Button fÃ¼r alle Modals mit passenden Defaults
    setupStartButton(modals.wop, "wopStartBtn", ".gender-btn", "wopCategoryOptions", ["funny", "daring", "mind", "deep", "bold", "taboo"]);
    setupStartButton(modals.wde, "wdeStartBtn", null, "wdeCategoryOptions", ["funny", "daring", "personal", "bold", "intimate", "extreme"]);
    setupStartButton(modals.ihnn, "ihnnStartBtn", null, "ihnnCategoryOptions", ["funny", "casual", "daring", "personal", "flirty", "extreme"]);
    setupStartButton(modals.ewod, "ewodStartBtn", null, "ewodCategoryOptions", ["funny", "life", "flirty", "extreme"]);
    setupStartButton(modals.ldt, "ldtStartBtn", null, "ldtCategoryOptions", ["funny", "secrets", "personal", "identity", "opinion"]);

  });
</script>
        
