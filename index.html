<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Wahr oder Klar? â€“ Die Spielewebseite fÃ¼r Freunde und SpaÃŸ</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" type="image/png" href="bilder/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="bilder/favicon.svg" />
  <link rel="shortcut icon" href="bilder/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="bilder/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="Wahr oder Klar?" />
  <link rel="manifest" href="bilder/site.webmanifest" />
</head>
<body>

<header>
  <div class="header-inner">
    <div class="logo">ğŸ²</div>
    <div class="title-group">
      <h1>Wahr oder Klar? â€“ Die Spielewebseite fÃ¼r Freunde & SpaÃŸ</h1>
      <p class="subtitle">WÃ¤hlt einen Spielmodus und habt SpaÃŸ!</p>
    </div>
    <div class="icon-right">ğŸ‰</div>
  </div>
</header>

<main>
  <section class="intro">
    <h2>Hey! SchÃ¶n, dass du da bist ğŸ‘‹</h2>
    <p>Hier kannst du mit deinen Freunden richtig coole Spiele spielen. <br> Egal ob Klassenfahrt, Geburtstag oder einfach so â€“ such dir einen Spielmodus aus und los gehtâ€™s!</p>
  </section>

  <section class="grid">
    <a class="card" href="#" id="wopCard">
      <div class="emoji">ğŸ­</div>
      <h3>Wahrheit oder Pflicht</h3>
      <p>Harmlos oder mutig â€“ du entscheidest!</p>
    </a>
    <a class="card" href="#" id="wdeCard">
      <div class="emoji">ğŸ¤”</div>
      <h3>Wer wÃ¼rde eher...?</h3>
      <p>Lustige EinschÃ¤tzungen unter Freunden.</p>
    </a>
    <a class="card" href="#" id="ihnnCard">
      <div class="emoji">ğŸ»</div>
      <h3>Ich hab noch nie...</h3>
      <p>GestÃ¤ndnisse und SpaÃŸ garantiert.</p>
    </a>
    <a class="card" href="#" id="ewodCard">
      <div class="emoji">âš–ï¸</div>
      <h3>Entweder/Oder</h3>
      <p>Pizza oder Pommes? Entscheide dich!</p>
    </a>
    <a class="card" href="#" id="ldtCard">
      <div class="emoji">ğŸ“Š</div>
      <h3>Voting</h3>
      <p>Wie denkt die Runde wirklich?</p>
    </a>
  </section>
</main>

<footer>
  Â© 2025 â€“ Julian Kaiser <br>
  Made with ğŸ’™ â€“ SpaÃŸ garantiert ğŸ˜„
</footer>

<!-- ========== Modale (alle Spielmodi) ========== -->
<!-- Wahrheit oder Pflicht Modal -->
<div class="modal-overlay hidden" id="wopModal" role="dialog" aria-modal="true" aria-labelledby="wopModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-modal" id="closeWopModal" aria-label="SchlieÃŸen">âŒ</button>
    <h2 id="wopModalTitle">Wahrheit oder Pflicht â€“ Spieldetails</h2>

    <div class="gender-select">
      <p>FÃ¼r wen sollen die Aufgaben sein?</p>
      <div class="gender-buttons">
        <button class="gender-btn active" data-value="mixed" type="button">âš§ Gemischt</button>
        <button class="gender-btn" data-value="male" type="button">ğŸ‘¦ Nur Jungs</button>
        <button class="gender-btn" data-value="female" type="button">ğŸ‘§ Nur MÃ¤dchen</button>
      </div>
    </div>

    <div class="mode-select" role="group" aria-label="Modus auswÃ¤hlen">
      <button id="wopBtnMixed" class="mode-btn active" type="button">ğŸ¨ Gemischt</button>
      <button id="wopBtnCustom" class="mode-btn" type="button">ğŸ›ï¸ Kategorien wÃ¤hlen</button>
    </div>

    
    <div class="category-select hidden" id="wopCategoryOptions">

      <label class="category-item" for="funny">
        <input type="checkbox" id="funny" value="funny" />
        ğŸ§ƒ Locker & Lustig
        <span class="info-icon" tabindex="0" aria-label="Info zur Kategorie 'Locker & Lustig'">â„¹ï¸</span>
        <span class="tooltip-text">Witzig, kreativ und leicht â€“ ideal fÃ¼r den Einstieg.</span>
      </label>

      <label class="category-item" for="daring">
        <input type="checkbox" id="daring" value="daring" />
        ğŸ«± Vertrauensbasis
        <span class="info-icon" tabindex="0" aria-label="Info zur Kategorie 'Vertrauensbasis'">â„¹ï¸</span>
        <span class="tooltip-text">Fragen und Aufgaben, die Vertrauen aufbauen und NÃ¤he schaffen.</span>
      </label>

      <label class="category-item" for="real">
        <input type="checkbox" id="real" value="real" />
        ğŸª Ehrlich jetzt?
        <span class="info-icon" tabindex="0" aria-label="Info zur Kategorie 'Ehrlich jetzt?'">â„¹ï¸</span>
        <span class="tooltip-text">Echt, direkt, unverblÃ¼mt. Ohne Filter â€“ fÃ¼r ehrliche GesprÃ¤che.</span>
      </label>

      <label class="category-item" for="mind">
        <input type="checkbox" id="mind" value="mind" />
        ğŸ§  Kopfsache
        <span class="info-icon" tabindex="0" aria-label="Info zur Kategorie 'Kopfsache'">â„¹ï¸</span>
        <span class="tooltip-text">Gedankenexperimente, Mindgames, kreative Fragen fÃ¼r Denker:innen.</span>
      </label>

      <label class="category-item" for="deep">
        <input type="checkbox" id="deep" value="deep" />
        ğŸ’Œ Deep Talk
        <span class="info-icon" tabindex="0" aria-label="Info zur Kategorie 'Deep Talk'">â„¹ï¸</span>
        <span class="tooltip-text">GefÃ¼hlvoll, nachdenklich und persÃ¶nlich â€“ fÃ¼r echte Verbindungen.</span>
      </label>

      <label class="category-item" for="wtf">
        <input type="checkbox" id="wtf" value="wtf" />
        ğŸŒ€ WTF?!
        <span class="info-icon" tabindex="0" aria-label="Info zur Kategorie 'WTF?!'">â„¹ï¸</span>
        <span class="tooltip-text">Abgedreht, schrÃ¤g, unangenehm â€“ fÃ¼r mutige Spieler:innen mit Humor.</span>
      </label>

      <label class="category-item" for="bold">
        <input type="checkbox" id="bold" value="bold" />
        ğŸ«£ Mut & Grenzen
        <span class="info-icon" tabindex="0" aria-label="Info zur Kategorie 'Mut & Grenzen'">â„¹ï¸</span>
        <span class="tooltip-text">Mutige Fragen, persÃ¶nliche Herausforderungen und kleine TabubrÃ¼che.</span>
      </label>

      <label class="category-item" for="taboo">
        <input type="checkbox" id="taboo" value="taboo" />
        ğŸš« Tabuzone
        <span class="info-icon" tabindex="0" aria-label="Info zur Kategorie 'Tabuzone'">â„¹ï¸</span>
        <span class="tooltip-text">Direkt, intim, provokant â€“ nur fÃ¼r vertraute Gruppen.</span>
      </label>

      <label class="category-item" for="Ã¼18">
        <input type="checkbox" id="Ã¼18" value="Ã¼18" />
        ğŸ” Dirty Mode (Ãœ18)
        <span class="info-icon" tabindex="0" aria-label="Info zur Kategorie 'Dirty Mode (Ãœ18)'">â„¹ï¸</span>
        <span class="tooltip-text">Extrem direkt, kÃ¶rperlich und zweideutig â€“ nur ab 18 und bei vollem Vertrauen.</span>
      </label>

    </div>
    

    <button class="start-btn" id="wopStartBtn" type="button">Weiter</button>
  </div>
</div>



  
  <!-- Modal: Spieler:innen-Auswahl -->
<div class="modal-overlay hidden" id="playerModal">
  
  <div class="modal">
    
    <button class="close-modal" id="closePlayerModal">âŒ</button>
    <h2>Spielereingabe</h2>

    <div id="playerList">
      <div class="player-row">
        <input type="text" placeholder="Name eingeben" class="player-name" />
        <div class="gender-toggle" data-gender="mixed">
          <button class="gender-option active" data-value="mixed">âš§</button>
          <button class="gender-option" data-value="male">ğŸ‘¦</button>
          <button class="gender-option" data-value="female">ğŸ‘§</button>
        </div>
      </div>
    </div>

      <!-- WARNUNG: Wird per JS eingeblendet -->
    <div id="playerWarning" class="warning-box hidden">
        âš ï¸ Etwas stimmt nicht â€¦
    </div>

    <button class="start-btn" id="startGameBtn">Spiel starten</button>
  </div>
</div>


  
<!-- Wer wÃ¼rde eher... Modal -->
<div class="modal-overlay hidden" id="wdeModal" role="dialog" aria-modal="true" aria-labelledby="wdeModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-modal" id="closeWdeModal" aria-label="SchlieÃŸen">âŒ</button>
    <h2 id="wdeModalTitle">Wer wÃ¼rde eher...? â€“ Kategorien</h2>

    <div class="mode-select" role="group" aria-label="Modus auswÃ¤hlen">
      <button id="wdeBtnMixed" class="mode-btn active" type="button">ğŸ¨ Gemischt</button>
      <button id="wdeBtnCustom" class="mode-btn" type="button">ğŸ›ï¸ Kategorien wÃ¤hlen</button>
    </div>

    <div class="category-select hidden" id="wdeCategoryOptions">
      <label class="category-item" data-tooltip="Lustige, lockere Aussagen â€“ einfach zum Lachen.">
        <input type="checkbox" value="funny" />
        ğŸ˜‚ Locker und Lustig
      </label>
      <label class="category-item" data-tooltip="Wer kennt wen wirklich? Vertrauensfragen & ehrliche EinschÃ¤tzungen.">
        <input type="checkbox" value="daring" />
        ğŸ«± Vertrauensbasis
      </label>
      <label class="category-item" data-tooltip="TiefgrÃ¼ndige EinschÃ¤tzungen zu Charakter und PersÃ¶nlichkeit.">
        <input type="checkbox" value="personal" />
        ğŸ§  PersÃ¶nlich & TiefgrÃ¼ndig
      </label>
      <label class="category-item" data-tooltip="Mutige, freizÃ¼gige Aussagen â€“ nur wenn ihr euch kennt.">
        <input type="checkbox" value="bold" />
        ğŸ”¥ Wagemutig & FreizÃ¼gig
      </label>
      <label class="category-item" data-tooltip="Intime Aussagen Ã¼ber Liebe, GefÃ¼hle & private Themen.">
        <input type="checkbox" value="intimate" />
        ğŸ”’ Privat & Intim
      </label>
      <label class="category-item" data-tooltip="TabubrÃ¼che, Extreme, WTF-Momente.">
        <input type="checkbox" value="extreme" />
        âš¡ Extrem & Provokant
      </label>
    </div>

    <button class="start-btn" id="wdeStartBtn" type="button">Los gehtâ€™s!</button>
  </div>
</div>

  

<!-- Ich hab noch nie Modal -->
<div class="modal-overlay hidden" id="ihnnModal" role="dialog" aria-modal="true" aria-labelledby="ihnnModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-modal" id="closeIhnnModal" aria-label="SchlieÃŸen">âŒ</button>
    <h2 id="ihnnModalTitle">Ich hab noch nie... â€“ Kategorien</h2>

    <div class="mode-select" role="group" aria-label="Modus auswÃ¤hlen">
      <button id="ihnnBtnMixed" class="mode-btn active" type="button">ğŸ¨ Gemischt</button>
      <button id="ihnnBtnCustom" class="mode-btn" type="button">ğŸ›ï¸ Kategorien wÃ¤hlen</button>
    </div>

    <div class="category-select hidden" id="ihnnCategoryOptions">
      <label class="category-item" data-tooltip="Harmlose, lustige Aussagen â€“ zum Lockerwerden.">
        <input type="checkbox" value="funny" />
        ğŸ˜‚ Locker und Lustig
      </label>
      <label class="category-item" data-tooltip="Aussagen aus Alltag und Leben â€“ relatable!">
        <input type="checkbox" value="casual" />
        ğŸ˜ Alltag & Erlebnisse
      </label>
      <label class="category-item" data-tooltip="Vertrauensvolle, tiefere Aussagen.">
        <input type="checkbox" value="daring" />
        ğŸ«± Vertrauensbasis
      </label>
      <label class="category-item" data-tooltip="Eher gewagt und offen â€“ nur fÃ¼r mutige Spieler.">
        <input type="checkbox" value="personal" />
        ğŸ”¥ PersÃ¶nlich & FreizÃ¼gig
      </label>
      <label class="category-item" data-tooltip="Liebe, Dates, GefÃ¼hle â€“ es wird romantisch.">
        <input type="checkbox" value="flirty" />
        ğŸ’‹ Flirty & Romantisch
      </label>
      <label class="category-item" data-tooltip="Schockierend, wild, manchmal peinlich.">
        <input type="checkbox" value="extreme" />
        âš¡ Extrem & Provokant
      </label>
    </div>

    <button class="start-btn" id="ihnnStartBtn" type="button">Los gehtâ€™s!</button>
  </div>
</div>

  

<!-- Entweder/Oder Modal -->
<div class="modal-overlay hidden" id="ewodModal" role="dialog" aria-modal="true" aria-labelledby="ewodModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-modal" id="closeEwodModal" aria-label="SchlieÃŸen">âŒ</button>
    <h2 id="ewodModalTitle">Entweder/oder â€“ Kategorien</h2>

    <div class="mode-select" role="group" aria-label="Modus auswÃ¤hlen">
      <button id="ewodBtnMixed" class="mode-btn active" type="button">ğŸ¨ Gemischt</button>
      <button id="ewodBtnCustom" class="mode-btn" type="button">ğŸ›ï¸ Kategorien wÃ¤hlen</button>
    </div>

    <div class="category-select hidden" id="ewodCategoryOptions">
      <label class="category-item" data-tooltip="SpaÃŸfragen und absurde Entscheidungen.">
        <input type="checkbox" value="funny" />
        ğŸ˜‚ SpaÃŸ & Albern
      </label>
      <label class="category-item" data-tooltip="Was wÃ¼rdest du im Alltag wirklich tun?">
        <input type="checkbox" value="life" />
        ğŸŒ Alltag & Leben
      </label>
      <label class="category-item" data-tooltip="Herz oder Kopf? Liebe oder Freiheit?">
        <input type="checkbox" value="flirty" />
        ğŸ’Œ Romantik & Flirt
      </label>
      <label class="category-item" data-tooltip="Spannende Extreme â€“ oft unangenehm, immer lustig.">
        <input type="checkbox" value="extreme" />
        âš¡ Extrem & Provokant
      </label>
    </div>

    <button class="start-btn" id="ewodStartBtn" type="button">Los gehtâ€™s!</button>
  </div>
</div>

  

<!-- Voting Modal -->
<div class="modal-overlay hidden" id="ldtModal" role="dialog" aria-modal="true" aria-labelledby="ldtModalTitle" tabindex="-1">
  <div class="modal">
    <button class="close-modal" id="closeLdtModal" aria-label="SchlieÃŸen">âŒ</button>
    <h2 id="ldtModalTitle">Voting â€“ Kategorien</h2>

    <div class="mode-select" role="group" aria-label="Modus auswÃ¤hlen">
      <button id="ldtBtnMixed" class="mode-btn active" type="button">ğŸ¨ Gemischt</button>
      <button id="ldtBtnCustom" class="mode-btn" type="button">ğŸ›ï¸ Kategorien wÃ¤hlen</button>
    </div>

    <div class="category-select hidden" id="ldtCategoryOptions">
      <label class="category-item" data-tooltip="Lustige und absurde Aussagen zum Schmunzeln.">
        <input type="checkbox" value="funny" />
        ğŸ˜‚ SpaÃŸ & Albern
      </label>
      <label class="category-item" data-tooltip="Geheime Wahrheiten kommen ans Licht.">
        <input type="checkbox" value="secrets" />
        ğŸ¤ Heimliche Wahrheiten
      </label>
      <label class="category-item" data-tooltip="Freunde, GefÃ¼hle und Beziehungen einschÃ¤tzen.">
        <input type="checkbox" value="personal" />
        ğŸ’˜ Freundschaft & Romantik
      </label>
      <label class="category-item" data-tooltip="Wie siehst du dich selbst â€“ und wie sehen dich andere?">
        <input type="checkbox" value="identity" />
        ğŸ­ Wer bist du wirklich?
      </label>
      <label class="category-item" data-tooltip="Kontroverse Aussagen â€“ Diskussionspotenzial!">
        <input type="checkbox" value="opinion" />
        ğŸ’¡ Meinungssache
      </label>
    </div>

    <button class="start-btn" id="ldtStartBtn" type="button">Los gehtâ€™s!</button>
  </div>
</div>


<!-- ========== SCRIPTS ========== -->
<script src="JavaScript/modi-auswahl_dropdown.js" defer></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const genderButtons = document.querySelectorAll(".gender-btn");
  const startBtn = document.getElementById("wopStartBtn");
  const playerModal = document.getElementById("playerModal");
  const playerList = document.getElementById("playerList");
  const startGameBtn = document.getElementById("startGameBtn");
  const closePlayerModal = document.getElementById("closePlayerModal");
  const openCategoryBtn = document.getElementById("openCategoryBtn");
  const categoryModal = document.getElementById("wopModal");
  const categoryNextBtn = document.getElementById("categoryNextBtn");
  const closeCategoryBtn = document.getElementById("closeCategoryModal");

  let lockedGender = null;

  // === 1. Geschlechterauswahl ===
  genderButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      genderButtons.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
    });
  });

  // === 2. Spieler:innen-Modal Ã¶ffnen ===
  startBtn.addEventListener("click", () => {
    const activeGender = document.querySelector(".gender-btn.active")?.dataset.value || "mixed";
    const isCustom = document.getElementById("wopBtnCustom").classList.contains("active");

    const checkedCategories = Array.from(document.querySelectorAll("#wopCategoryOptions input:checked")).map(cb => cb.value);
    const selectedCategories = isCustom ? checkedCategories : ["funny", "daring", "mind", "deep", "bold", "taboo"];

    if (isCustom && selectedCategories.length === 0) {
      alert("Bitte wÃ¤hle mindestens eine Kategorie aus!");
      return;
    }

    localStorage.setItem("wopGender", activeGender);
    localStorage.setItem("wopMode", isCustom ? "custom" : "mixed");
    localStorage.setItem("wopCategories", JSON.stringify(selectedCategories));

    lockedGender = (activeGender === "male" || activeGender === "female") ? activeGender : null;
    playerList.innerHTML = "";
    addNewPlayerRow();

    playerModal.classList.remove("hidden");
    document.body.classList.add("modal-open");
  });

  // === 3. Neue Spieler:innen-Zeile ===
  function addNewPlayerRow() {
    const row = document.createElement("div");
    row.classList.add("player-row");

    const genderButtonsHTML = `
      <button class="gender-option" data-value="mixed">âš§</button>
      <button class="gender-option" data-value="male">ğŸ‘¦</button>
      <button class="gender-option" data-value="female">ğŸ‘§</button>
    `;

    let active = lockedGender ?? "mixed";

    row.innerHTML = `
      <input type="text" placeholder="Name eingeben" class="player-name" />
      <div class="gender-toggle" data-gender="${active}">
        ${genderButtonsHTML}
      </div>
    `;
    playerList.appendChild(row);

    const toggle = row.querySelector(".gender-toggle");
    toggle.querySelectorAll(".gender-option").forEach(btn => {
      if (btn.dataset.value === active) {
        btn.classList.add("active");
      }

      if (lockedGender) {
        btn.disabled = true;
        btn.style.opacity = btn.dataset.value === lockedGender ? "1" : "0.4";
        btn.style.cursor = "not-allowed";
      }
    });

    row.scrollIntoView({ behavior: "smooth", block: "end" });
  }

  // === 4. Neue Zeile nur bei ausgefÃ¼lltem letztem Feld ===
  playerList.addEventListener("input", () => {
    const rows = playerList.querySelectorAll(".player-row");
    if (rows.length === 0) return;

    const lastRow = rows[rows.length - 1];
    const nameInput = lastRow.querySelector("input.player-name");

    if (nameInput && nameInput.value.trim() !== "") {
      let emptyRowExists = false;
      rows.forEach(row => {
        const input = row.querySelector("input.player-name");
        if (input && input.value.trim() === "" && row !== lastRow) {
          emptyRowExists = true;
        }
      });

      if (!emptyRowExists) {
        addNewPlayerRow();
      }
    }
  });

  // === 5. Scroll-Lock ===
  function updateScrollLock() {
    const body = document.body;
    const categoryVisible = categoryModal && !categoryModal.classList.contains("hidden");
    const playerVisible = playerModal && !playerModal.classList.contains("hidden");

    if (categoryVisible || playerVisible) {
      body.classList.add("no-scroll");
    } else {
      body.classList.remove("no-scroll");
    }
  }

  document.getElementById('wopModalOverlay')?.addEventListener('transitionend', updateScrollLock);
  document.getElementById('playerModalOverlay')?.addEventListener('transitionend', updateScrollLock);

  const observer = new MutationObserver(updateScrollLock);
  ['wopModal', 'playerModal'].forEach(id => {
    const el = document.getElementById(id);
    if (el) observer.observe(el, { attributes: true, attributeFilter: ['class'] });
  });

  // === 6. Kategorie-Modal Ã¶ffnen ===
  openCategoryBtn?.addEventListener("click", () => {
    categoryModal.classList.remove("hidden");
    document.body.classList.add("modal-open");
  });

  // === 7. Kategorie -> Weiter ===
  categoryNextBtn?.addEventListener("click", () => {
    hideModal(categoryModal);
    playerModal.classList.remove("hidden");
    document.body.classList.add("modal-open");
  });

  // === 8. Kategorie schlieÃŸen ===
  closeCategoryBtn?.addEventListener("click", () => {
    hideModal(categoryModal);
  });

  // === 9. Spieler:innen schlieÃŸen ===
  closePlayerModal?.addEventListener("click", () => {
    playerModal.classList.add("hidden");
    document.body.classList.remove("modal-open");
    playerList.innerHTML = "";
  });

  // === 10. Geschlecht auswÃ¤hlen ===
  playerList.addEventListener("click", e => {
    if (e.target.classList.contains("gender-option") && !e.target.disabled) {
      const parent = e.target.closest(".gender-toggle");
      parent.querySelectorAll(".gender-option").forEach(btn => btn.classList.remove("active"));
      e.target.classList.add("active");
      parent.dataset.gender = e.target.dataset.value;
    }
  });

  // === 11. Spiel starten ===
  startGameBtn?.addEventListener("click", () => {
    const rows = playerList.querySelectorAll(".player-row");
    const players = [];

    rows.forEach(row => {
      const name = row.querySelector("input").value.trim();
      const gender = lockedGender || row.querySelector(".gender-toggle").dataset.gender || "mixed";
      if (name) players.push({ name, gender });
    });

    const warningBox = document.getElementById("playerWarning");

    const names = players.map(p => p.name);
    const duplicateNames = names.filter((n, i) => names.indexOf(n) !== i);

    if (players.length < 2) {
      showWarning("Mindestens zwei Spieler mÃ¼ssen teilnehmen!");
      return;
    }

    if (duplicateNames.length > 0) {
      showWarning(`Die Namen mÃ¼ssen einzigartig sein! Doppelt: ${[...new Set(duplicateNames)].join(", ")}`);
      return;
    }

    hideWarning();

    localStorage.setItem("wopPlayers", JSON.stringify(players));

    const selectedCategories = JSON.parse(localStorage.getItem("wopCategories") || "[]");
    const query = selectedCategories.length
      ? "?categories=" + encodeURIComponent(selectedCategories.join(","))
      : "";

    window.location.href = "spiel-wop.html" + query;
  });

  // === 12. Tooltips (mobil vs. desktop) ===
  const isMobile = window.matchMedia("(hover: none), (max-width: 768px)").matches;

  if (isMobile) {
    const tooltipTriggers = document.querySelectorAll(".tooltip-trigger.mobile");

    tooltipTriggers.forEach(trigger => {
      const container = trigger.closest(".tooltip-container");

      trigger.addEventListener("click", (e) => {
        e.stopPropagation();
        closeAllTooltips();
        container.classList.toggle("show");
      });
    });

    document.addEventListener("click", (e) => {
      const openTooltip = document.querySelector(".tooltip-container.show");
      if (openTooltip && !openTooltip.contains(e.target)) {
        openTooltip.classList.remove("show");
      }
    });

    function closeAllTooltips() {
      document.querySelectorAll(".tooltip-container.show").forEach(el => el.classList.remove("show"));
    }
  }
});

// ========== Hilfsfunktionen global ==========
function hideModal(modal) {
  if (!modal) return;
  modal.classList.add("hidden");
  document.body.classList.remove("modal-open");
}

function showWarning(text) {
  const box = document.getElementById("playerWarning");
  if (!box) return;

  box.textContent = `âš ï¸ ${text}`;
  box.classList.remove("hidden");

  box.classList.remove("shake");
  void box.offsetWidth;
  box.classList.add("shake");
}

function hideWarning() {
  const box = document.getElementById("playerWarning");
  if (!box) return;
  box.classList.add("hidden");
}
</script>
  

</body>
</html>
